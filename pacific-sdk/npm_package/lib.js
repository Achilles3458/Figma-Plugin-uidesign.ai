"use strict";var b=Object.defineProperty,O=Object.defineProperties,v=Object.getOwnPropertyDescriptor,x=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertyNames,W=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var y=(e,o,t)=>o in e?b(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,P=(e,o)=>{for(var t in o||(o={}))N.call(o,t)&&y(e,t,o[t]);if(W)for(var t of W(o))D.call(o,t)&&y(e,t,o[t]);return e},A=(e,o)=>O(e,x(o));var F=(e,o)=>{for(var t in o)b(e,t,{get:o[t],enumerable:!0})},G=(e,o,t,s)=>{if(o&&typeof o=="object"||typeof o=="function")for(let a of B(o))!N.call(e,a)&&a!==t&&b(e,a,{get:()=>o[a],enumerable:!(s=v(o,a))||s.enumerable});return e};var U=e=>G(b({},"__esModule",{value:!0}),e);var oe={};F(oe,{drawRoots:()=>I,drawScreens:()=>ie,drawWorldViewContainerNodeAtOrigin:()=>E,drawWorldViewGroupNodeAtOrigin:()=>T,drawworldviewbooleanoperationNodeAtOrigin:()=>C,setChildReaction:()=>h,setReactions:()=>L});module.exports=U(oe);async function R(e){let o={},t=figma.variables.getLocalVariableCollections().find(s=>s.name==="Colors")||figma.variables.createVariableCollection("Colors");for(let s of e.screens){for(let a in s.meta.theme.images){let n=s.meta.theme.images[a];switch(n.type){case"PREPROCESSED":{let i=figma.getImageByHash(n.value.imageHash);if(i===null)throw new Error("Internal error");let r=await i.getBytesAsync();a in o||(o[a]=[...r]);break}case"POSTPROCESSED":{let i=await figma.createImageAsync(n.value.url);if(i===null)throw new Error("Internal error - image src");n.value.imageHash in o||(o[n.value.imageHash]=i.hash);break}}}for(let a in s.meta.theme.colors){let n=s.meta.theme.colors[a],r=figma.variables.getLocalVariables("COLOR").find(d=>d.name===`Color-${a}`);try{if(r)o[a]=r.id;else{let d=figma.variables.createVariable(`Color-${a}`,t.id,"COLOR");d.setValueForMode(t.modes[0].modeId,{r:n.color.r,g:n.color.g,b:n.color.b,a:n.color.a||1}),o[a]=d.id}}catch(d){}}}return o}function g(e){return e==null||typeof e=="string"&&e.trim()===""||Array.isArray(e)&&e.length===0}async function m(e){return await new Promise(o=>setTimeout(o,e))}function K(e){return typeof e=="object"&&e!==null&&"type"in e&&e.type==="CONSTANT"}function H(e){return typeof e=="object"&&e!==null&&"type"in e&&e.type==="VARIABLE"}function c(e){return K(e)?{type:"CONSTANT",value:e}:H(e)?{type:"VARIABLE",value:e}:{type:"VALUE",value:e}}function V(e,o){if("fills"in e&&(e.fills=[o]),"children"in e)for(let t of e.children)V(t,o)}function k(e,o,t){if("strokes"in e&&(e.strokeWeight=o,e.strokes=[t]),"children"in e)for(let s of e.children)k(s,o,t)}function S(e){if(!e)return"Regular";let o="Regular";switch(e){case 100:o="Thin";break;case 200:o="Extra Light";break;case 300:o="Light";break;case 400:o="Regular";break;case 500:o="Medium";break;case 600:o="Semi Bold";break;case 700:o="Bold";break;case 800:o="Extra Bold";break;case 900:o="Black";break}return o}var _=e=>e.imageHash!=null,z=e=>{var o;return!!((o=e.gradientStops)!=null&&o.length)};function l(e,o){if(_(e)){let s=o?o[e.imageHash]:e.imageHash;return{type:"IMAGE",scaleMode:e.scaleMode,imageHash:s||null}}if(z(e))return e;let t=e;return{type:"SOLID",color:{r:t.color.r,g:t.color.g,b:t.color.b},opacity:t.color.a||t.opacity}}async function M(e,o,t,s){let a=figma.createFrame();if(s[e.id]=a.id,a.name=e.name,a.x=e.x,a.y=e.y,a.resizeWithoutConstraints(e.width,e.height),a.fills=[],a.layoutMode="NONE",a.primaryAxisAlignItems=e.primaryAxisAlignItems||"CENTER",a.counterAxisAlignItems=e.counterAxisAlignItems||"CENTER",a.paddingTop=e.paddingTop||0,a.paddingBottom=e.paddingBottom||0,a.paddingLeft=e.paddingLeft||0,a.paddingRight=e.paddingRight||0,a.itemSpacing=e.itemSpacing||0,e.fill!==void 0){let n,i=c(e.fill);switch(i.type){case"VALUE":n=l(i.value,t.assets);break;case"CONSTANT":n=l(i.value.value,t.assets);break;case"VARIABLE":if(n=l(i.value.fallback,t.assets),t.assets&&t.assets[i.value.id]){let r=figma.variables.getVariableById(t.assets[i.value.id]);n=figma.variables.setBoundVariableForPaint(n,"color",r)}break}a.fills=[n]}if((e.strokeTopWeight!==void 0||e.strokeBottomWeight!==void 0||e.strokeLeftWeight!==void 0||e.strokeRightWeight!==void 0)&&e.stroke!==void 0){e.strokeTopWeight!==void 0&&(a.strokeTopWeight=e.strokeTopWeight),e.strokeBottomWeight!==void 0&&(a.strokeBottomWeight=e.strokeBottomWeight),e.strokeLeftWeight!==void 0&&(a.strokeLeftWeight=e.strokeLeftWeight),e.strokeRightWeight!==void 0&&(a.strokeRightWeight=e.strokeRightWeight);let n,i=c(e.stroke);switch(i.type){case"VALUE":n=l(i.value);break;case"CONSTANT":n=l(i.value.value);break;case"VARIABLE":if(n=l(i.value.fallback),t.assets&&t.assets[i.value.id]){let r=figma.variables.getVariableById(t.assets[i.value.id]);n=figma.variables.setBoundVariableForPaint(n,"color",r)}break}a.strokes=[n]}if((e.topLeftRadius!==void 0||e.topRightRadius!==void 0||e.bottomLeftRadius!==void 0||e.bottomRightRadius!==void 0)&&(e.topLeftRadius!==void 0&&(a.topLeftRadius=e.topLeftRadius),e.topRightRadius!==void 0&&(a.topRightRadius=e.topRightRadius),e.bottomLeftRadius!==void 0&&(a.bottomLeftRadius=e.bottomLeftRadius),e.bottomRightRadius!==void 0&&(a.bottomRightRadius=e.bottomRightRadius)),e.effects!==void 0){let n=[];for(let i of e.effects)switch(i.type){case"DROP_SHADOW":case"INNER_SHADOW":n.push({type:i.type,color:i.color,offset:i.offset,radius:i.radius,spread:i.spread,visible:!0,blendMode:"NORMAL"});break}n.length>0&&(a.effects=n)}if(o.appendChild(a),e.children!==null)for(let n=0;n<e.children.length;n++){let i=e.children[n];n>0&&t.timeout>0&&await m(t.timeout),await f(i,a,t,s)}}async function X(e,o,t,s){let a=figma.createComponent();if(s[e.id]=a.id,a.name=e.name,a.x=e.x,a.y=e.y,a.resizeWithoutConstraints(e.width,e.height),a.fills=[],a.layoutMode="NONE",a.primaryAxisAlignItems=e.primaryAxisAlignItems||"CENTER",a.counterAxisAlignItems=e.counterAxisAlignItems||"CENTER",a.paddingTop=e.paddingTop||0,a.paddingBottom=e.paddingBottom||0,a.paddingLeft=e.paddingLeft||0,a.paddingRight=e.paddingRight||0,a.itemSpacing=e.itemSpacing||0,e.fill!==void 0){let i,r=c(e.fill);switch(r.type){case"VALUE":i=l(r.value,t.assets);break;case"CONSTANT":i=l(r.value.value,t.assets);break;case"VARIABLE":i=l(r.value.fallback,t.assets);break}a.fills=[i]}if((e.strokeTopWeight!==void 0||e.strokeBottomWeight!==void 0||e.strokeLeftWeight!==void 0||e.strokeRightWeight!==void 0)&&e.stroke!==void 0){e.strokeTopWeight!==void 0&&(a.strokeTopWeight=e.strokeTopWeight),e.strokeBottomWeight!==void 0&&(a.strokeBottomWeight=e.strokeBottomWeight),e.strokeLeftWeight!==void 0&&(a.strokeLeftWeight=e.strokeLeftWeight),e.strokeRightWeight!==void 0&&(a.strokeRightWeight=e.strokeRightWeight);let i,r=c(e.stroke);switch(r.type){case"VALUE":i=l(r.value);break;case"CONSTANT":i=l(r.value.value);break;case"VARIABLE":if(i=l(r.value.fallback),t.assets&&t.assets[r.value.id]){let d=figma.variables.getVariableById(t.assets[r.value.id]);i=figma.variables.setBoundVariableForPaint(i,"color",d)}break}a.strokes=[i]}if((e.topLeftRadius!==void 0||e.topRightRadius!==void 0||e.bottomLeftRadius!==void 0||e.bottomRightRadius!==void 0)&&(e.topLeftRadius!==void 0&&(a.topLeftRadius=e.topLeftRadius),e.topRightRadius!==void 0&&(a.topRightRadius=e.topRightRadius),e.bottomLeftRadius!==void 0&&(a.bottomLeftRadius=e.bottomLeftRadius),e.bottomRightRadius!==void 0&&(a.bottomRightRadius=e.bottomRightRadius)),e.effects!==void 0){let i=[];for(let r of e.effects)switch(r.type){case"DROP_SHADOW":case"INNER_SHADOW":i.push({type:r.type,color:r.color,offset:r.offset,radius:r.radius,spread:r.spread,visible:!0,blendMode:"NORMAL"});break}i.length>0&&(a.effects=i)}let n=a.createInstance();if(n.x=e.x,n.y=e.y,o.appendChild(n),e.children!==null)for(let i=0;i<e.children.length;i++){let r=e.children[i];i>0&&t.timeout>0&&await m(t.timeout),await f(r,a,t,s)}}async function j(e,o,t,s){let a=figma.createRectangle();a.visible=!1;let n=figma.group([a],o);if(s[e.id]=n.id,n.name=e.name,n.x=e.x,n.y=e.y,n.resizeWithoutConstraints(e.width,e.height),e.effects!==void 0){let i=[];for(let r of e.effects)switch(r.type){case"DROP_SHADOW":case"INNER_SHADOW":i.push({type:r.type,color:r.color,offset:r.offset,radius:r.radius,spread:r.spread,visible:!0,blendMode:"NORMAL"});break}i.length>0&&(n.effects=i)}if(o.appendChild(n),e.children!==null)for(let i=0;i<e.children.length;i++){let r=e.children[i];i>0&&t.timeout>0&&await m(t.timeout),await f(r,n,t,s)}}async function Z(e,o,t,s){let a=figma.createBooleanOperation();if(s[e.id]=a.id,figma.currentPage.appendChild(a),a.name=e.name,a.x=e.x,a.y=e.y,a.resizeWithoutConstraints(e.width,e.height),a.fills=[],a.booleanOperation=e.booleanOperation,e.fill!==void 0){let n,i=c(e.fill);switch(i.type){case"VALUE":n=l(i.value,t.assets);break;case"CONSTANT":n=l(i.value.value,t.assets);break;case"VARIABLE":if(n=l(i.value.fallback,t.assets),t.assets&&t.assets[i.value.id]){let r=figma.variables.getVariableById(t.assets[i.value.id]);n=figma.variables.setBoundVariableForPaint(n,"color",r)}break}a.fills=[n]}if(o.appendChild(a),e.children!==null)for(let n of e.children)await f(n,a,t,s)}async function J(e,o,t,s){let a=figma.createFrame();if(s[e.id]=a.id,a.name=e.name,a.x=e.x,a.y=e.y,a.resizeWithoutConstraints(e.width,e.height),a.fills=[],e.fill!==void 0){let n,i=c(e.fill);switch(i.type){case"VALUE":n=l(i.value,t.assets);break;case"CONSTANT":n=l(i.value.value,t.assets);break;case"VARIABLE":if(n=l(i.value.fallback,t.assets),t.assets&&t.assets[i.value.id]){let r=figma.variables.getVariableById(t.assets[i.value.id]);n=figma.variables.setBoundVariableForPaint(n,"color",r)}break}a.fills=[n]}if((e.strokeTopWeight!==void 0||e.strokeBottomWeight!==void 0||e.strokeLeftWeight!==void 0||e.strokeRightWeight!==void 0)&&e.stroke!==void 0){e.strokeTopWeight!==void 0&&(a.strokeTopWeight=e.strokeTopWeight),e.strokeBottomWeight!==void 0&&(a.strokeBottomWeight=e.strokeBottomWeight),e.strokeLeftWeight!==void 0&&(a.strokeLeftWeight=e.strokeLeftWeight),e.strokeRightWeight!==void 0&&(a.strokeRightWeight=e.strokeRightWeight);let n,i=c(e.stroke);switch(i.type){case"VALUE":n=l(i.value);break;case"CONSTANT":n=l(i.value.value);break;case"VARIABLE":if(n=l(i.value.fallback),t.assets&&t.assets[i.value.id]){let r=figma.variables.getVariableById(t.assets[i.value.id]);n=figma.variables.setBoundVariableForPaint(n,"color",r)}break}a.strokes=[n]}if((e.topLeftRadius!==void 0||e.topRightRadius!==void 0||e.bottomLeftRadius!==void 0||e.bottomRightRadius!==void 0)&&(e.topLeftRadius!==void 0&&(a.topLeftRadius=e.topLeftRadius),e.topRightRadius!==void 0&&(a.topRightRadius=e.topRightRadius),e.bottomLeftRadius!==void 0&&(a.bottomLeftRadius=e.bottomLeftRadius),e.bottomRightRadius!==void 0&&(a.bottomRightRadius=e.bottomRightRadius)),e.effects!==void 0){let n=[];for(let i of e.effects)switch(i.type){case"DROP_SHADOW":case"INNER_SHADOW":n.push({type:i.type,color:i.color,offset:i.offset,radius:i.radius,spread:i.spread,visible:!0,blendMode:"NORMAL"});break}n.length>0&&(a.effects=n)}o.appendChild(a)}async function Y(e,o,t,s){let a,n=c(e.data);switch(n.type){case"VALUE":a=n.value;break;case"CONSTANT":a=n.value.value;break;case"VARIABLE":a=n.value.fallback;break}let i=figma.createNodeFromSvg(a);if(s[e.id]=i.id,i.name=e.name,i.x=e.x,i.y=e.y,i.resizeWithoutConstraints(e.width,e.height),i.fills=[],e.fill!==void 0){let r,d=c(e.fill);switch(d.type){case"VALUE":r=l(d.value);break;case"CONSTANT":r=l(d.value.value);break;case"VARIABLE":if(r=l(d.value.fallback),t.assets&&t.assets[d.value.id]){let u=figma.variables.getVariableById(t.assets[d.value.id]);r=figma.variables.setBoundVariableForPaint(r,"color",u)}break}for(let u of i.children)V(u,r)}if(e.strokeWeight!==void 0&&e.stroke!==void 0){let r,d=c(e.stroke);switch(d.type){case"VALUE":r=l(d.value);break;case"CONSTANT":r=l(d.value.value);break;case"VARIABLE":if(r=l(d.value.fallback),t.assets&&t.assets[d.value.id]){let u=figma.variables.getVariableById(t.assets[d.value.id]);r=figma.variables.setBoundVariableForPaint(r,"color",u)}break}for(let u of i.children)k(u,e.strokeWeight,r)}o.appendChild(i)}async function $(e,o,t,s){let a=figma.createEllipse();if(s[e.id]=a.id,a.x=e.x,a.y=e.y,a.resizeWithoutConstraints(e.width,e.height),e.fill!==void 0){let n,i=c(e.fill);switch(i.type){case"VALUE":n=l(i.value,t.assets);break;case"CONSTANT":n=l(i.value.value,t.assets);break;case"VARIABLE":if(n=l(i.value.fallback,t.assets),t.assets&&t.assets[i.value.id]){let r=figma.variables.getVariableById(t.assets[i.value.id]);n=figma.variables.setBoundVariableForPaint(n,"color",r)}break}a.fills=[n]}if(e.strokeWeight!==void 0&&e.stroke!==void 0){let n,i=c(e.stroke);switch(i.type){case"VALUE":n=l(i.value);break;case"CONSTANT":n=l(i.value.value);break;case"VARIABLE":if(n=l(i.value.fallback),t.assets&&t.assets[i.value.id]){let r=figma.variables.getVariableById(t.assets[i.value.id]);n=figma.variables.setBoundVariableForPaint(n,"color",r)}break}}o.appendChild(a)}async function q(e,o,t,s){let a=figma.createStar();if(s[e.id]=a.id,a.x=e.x,a.y=e.y,a.resizeWithoutConstraints(e.width,e.height),a.rotation=e.rotation,a.cornerRadius=e.cornerRadius,a.pointCount=e.count,a.innerRadius=e.ratio,a.cornerSmoothing=e.cornerSmoothing,a.constrainProportions=e.constrainProportions,e.fill!==void 0){let n,i=c(e.fill);switch(i.type){case"VALUE":n=l(i.value,t.assets);break;case"CONSTANT":n=l(i.value.value,t.assets);break;case"VARIABLE":if(n=l(i.value.fallback,t.assets),t.assets&&t.assets[i.value.id]){let r=figma.variables.getVariableById(t.assets[i.value.id]);n=figma.variables.setBoundVariableForPaint(n,"color",r)}break}a.fills=[n]}if(e.strokeWeight!==void 0&&e.stroke!==void 0){let n,i=c(e.stroke);switch(i.type){case"VALUE":n=l(i.value);break;case"CONSTANT":n=l(i.value.value);break;case"VARIABLE":if(n=l(i.value.fallback),t.assets&&t.assets[i.value.id]){let r=figma.variables.getVariableById(t.assets[i.value.id]);n=figma.variables.setBoundVariableForPaint(n,"color",r)}break}}o.appendChild(a)}async function Q(e,o,t,s){let a=figma.createPolygon();if(s[e.id]=a.id,a.x=e.x,a.y=e.y,a.resizeWithoutConstraints(e.width,e.height),a.rotation=e.rotation,a.cornerRadius=e.cornerRadius,a.pointCount=e.count,a.cornerSmoothing=e.cornerSmoothing,a.constrainProportions=e.constrainProportions,e.fill!==void 0){let n,i=c(e.fill);switch(i.type){case"VALUE":n=l(i.value,t.assets);break;case"CONSTANT":n=l(i.value.value,t.assets);break;case"VARIABLE":if(n=l(i.value.fallback,t.assets),t.assets&&t.assets[i.value.id]){let r=figma.variables.getVariableById(t.assets[i.value.id]);n=figma.variables.setBoundVariableForPaint(n,"color",r)}break}a.fills=[n]}if(e.strokeWeight!==void 0&&e.stroke!==void 0){let n,i=c(e.stroke);switch(i.type){case"VALUE":n=l(i.value);break;case"CONSTANT":n=l(i.value.value);break;case"VARIABLE":if(n=l(i.value.fallback),t.assets&&t.assets[i.value.id]){let r=figma.variables.getVariableById(t.assets[i.value.id]);n=figma.variables.setBoundVariableForPaint(n,"color",r)}break}}o.appendChild(a)}async function w(e,o,t,s){let a=figma.createLine();if(s[e.id]=a.id,a.x=e.x,a.y=e.y,a.rotation=e.rotation,a.resize(e.width,0),e.fill!==void 0){let n,i=c(e.fill);switch(i.type){case"VALUE":n=l(i.value,t.assets);break;case"CONSTANT":n=l(i.value.value,t.assets);break;case"VARIABLE":if(n=l(i.value.fallback,t.assets),t.assets&&t.assets[i.value.id]){let r=figma.variables.getVariableById(t.assets[i.value.id]);n=figma.variables.setBoundVariableForPaint(n,"color",r)}break}a.fills=[n]}if(e.strokeWeight!==void 0&&e.stroke!==void 0){let n,i=c(e.stroke);switch(i.type){case"VALUE":n=l(i.value);break;case"CONSTANT":n=l(i.value.value);break;case"VARIABLE":if(n=l(i.value.fallback),t.assets&&t.assets[i.value.id]){let r=figma.variables.getVariableById(t.assets[i.value.id]);n=figma.variables.setBoundVariableForPaint(n,"color",r)}break}}o.appendChild(a)}async function ee(e,o,t,s){let a=figma.createText();if(s[e.id]=a.id,a.x=e.x,a.y=e.y,a.resizeWithoutConstraints(e.width,e.height),e.fill!==void 0){let d=c(e.fill);switch(d.type){case"VALUE":a.fills=[figma.util.solidPaint(d.value.color)];break;case"CONSTANT":a.fills=[figma.util.solidPaint(d.value.value.color)];break;case"VARIABLE":if(a.fills=[figma.util.solidPaint(d.value.fallback.color)],t.assets&&t.assets[d.value.id]){let u=figma.variables.getVariableById(t.assets[d.value.id]);a.fills=[figma.variables.setBoundVariableForPaint(a.fills[0],"color",u)]}break}}try{await figma.loadFontAsync(e.fontName),a.fontName=e.fontName}catch(d){await figma.loadFontAsync({family:"Inter",style:S(e.fontWeight)}),a.fontName={family:"Inter",style:S(e.fontWeight)}}a.fontSize=e.fontSize,a.letterSpacing=e.letterSpacing,a.lineHeight=e.lineHeight,a.textAlignHorizontal=e.textAlignHorizontal,a.textAlignVertical=e.textAlignVertical,a.textCase=e.textCase,e.truncation!==void 0&&(a.textTruncation=e.truncation),o.appendChild(a);let n,i=c(e.characters);switch(i.type){case"VALUE":n=i.value;break;case"CONSTANT":n=i.value.value;break;case"VARIABLE":n=i.value.fallback;break}let r=n.split(" ");for(let d=0;d<r.length;d++){let u=r[d];d>0&&(t.timeout>0&&await m(t.timeout/4),a.characters+=" "),a.characters+=u}}async function ae(e,o,t,s){let a=figma.createVector();if(s[e.id]=a.id,a.name=e.name,a.x=e.x,a.y=e.y,a.resizeWithoutConstraints(e.width,e.height),a.fills=[],a.vectorPaths=e.vectorPaths,a.vectorNetwork=e.vectorNetwork,e.fill!==void 0){let n,i=c(e.fill);switch(i.type){case"VALUE":n=l(i.value);break;case"CONSTANT":n=l(i.value.value);break;case"VARIABLE":if(n=l(i.value.fallback),t.assets&&t.assets[i.value.id]){let r=figma.variables.getVariableById(t.assets[i.value.id]);n=figma.variables.setBoundVariableForPaint(n,"color",r)}break}a.fills=[n]}if(e.strokeWeight!==void 0&&e.stroke!==void 0){let n,i=c(e.stroke);switch(i.type){case"VALUE":n=l(i.value);break;case"CONSTANT":n=l(i.value.value);break;case"VARIABLE":if(n=l(i.value.fallback),t.assets&&t.assets[i.value.id]){let r=figma.variables.getVariableById(t.assets[i.value.id]);n=figma.variables.setBoundVariableForPaint(n,"color",r)}break}a.strokes=[n]}o.appendChild(a)}async function f(e,o,t,s){switch(e.type){case"CONTAINER":await M(e,o,t,s);break;case"INSTANCE":await X(e,o,t,s);break;case"GROUP":await j(e,o,t,s);break;case"VOID_CONTAINER":await J(e,o,t,s);break;case"ICON_CONTAINER":await Y(e,o,t,s);break;case"TEXT":await ee(e,o,t,s);break;case"LINE":await w(e,o,t,s);break;case"BOOLEAN_OPERATION":await Z(e,o,t,s);break;case"ELLIPSE":await $(e,o,t,s);break;case"STAR":await q(e,o,t,s);break;case"POLYGON":await Q(e,o,t,s);break;case"VECTOR":await ae(e,o,t,s);break}}async function E(e,o,t,s){let a=figma.createFrame();if(s[e.id]=a.id,figma.currentPage.appendChild(a),a.name=e.name,a.x=o.x,a.y=o.y,a.resizeWithoutConstraints(e.width,e.height),a.fills=[],a.layoutMode="NONE",a.primaryAxisAlignItems=e.primaryAxisAlignItems||"CENTER",a.counterAxisAlignItems=e.counterAxisAlignItems||"CENTER",a.paddingTop=e.paddingTop||0,a.paddingBottom=e.paddingBottom||0,a.paddingLeft=e.paddingLeft||0,a.paddingRight=e.paddingRight||0,a.itemSpacing=e.itemSpacing||0,e.fill!==void 0){let n,i=c(e.fill);switch(i.type){case"VALUE":n=l(i.value,t.assets);break;case"CONSTANT":n=l(i.value.value,t.assets);break;case"VARIABLE":if(n=l(i.value.fallback,t.assets),t.assets&&t.assets[i.value.id]){let r=figma.variables.getVariableById(t.assets[i.value.id]);n=figma.variables.setBoundVariableForPaint(n,"color",r)}break}a.fills=[n]}if(e.children!==null)for(let n of e.children)await f(n,a,t,s)}async function C(e,o,t,s){let a=figma.createBooleanOperation();if(s[e.id]=a.id,figma.currentPage.appendChild(a),a.name=e.name,a.x=o.x,a.y=o.y,a.resizeWithoutConstraints(e.width,e.height),a.fills=[],a.booleanOperation=e.booleanOperation,e.fill!==void 0){let n,i=c(e.fill);switch(i.type){case"VALUE":n=l(i.value,t.assets);break;case"CONSTANT":n=l(i.value.value,t.assets);break;case"VARIABLE":if(n=l(i.value.fallback,t.assets),t.assets&&t.assets[i.value.id]){let r=figma.variables.getVariableById(t.assets[i.value.id]);n=figma.variables.setBoundVariableForPaint(n,"color",r)}break}a.fills=[n]}if(e.children!==null)for(let n of e.children)await f(n,a,t,s)}async function T(e,o,t,s){let a=figma.createRectangle();a.visible=!1;let n=figma.group([a],figma.currentPage);if(s[e.id]=n.id,n.name=e.name,n.resizeWithoutConstraints(e.width===0?e.width+1:e.width,e.height===0?e.height+1:e.height),n.x=o.x,n.y=o.y,figma.currentPage.appendChild(n),e.children!==null)for(let i of e.children)await f(i,n,t,s)}function p(e){let o=typeof e;if(e===null)return null;if(o==="undefined"||o==="number"||o==="string"||o==="boolean")return e;if(o==="object"){if(e instanceof Array)return e.map(t=>p(t));if(e instanceof Uint8Array)return new Uint8Array(e);{let t={};for(let s in e)t[s]=p(e[s]);return t}}throw new Error("unknown")}function te(e){let o=0;for(let s=0;s<e.length;s++){let a=e[s];s>0&&(o+=16),o+=a.width}return{x:Math.trunc(figma.viewport.center.x-o/2),y:Math.trunc(figma.viewport.center.y-e[0].height/2)}}async function I(e,o){let t={},s=te(e);for(let a=0;a<e.length;a++){let n=e[a];switch(a>0&&(s.x+=16),n.type){case"CONTAINER":await E(n,s,o,t);break;case"GROUP":await T(n,s,o,t);break;case"BOOLEAN_OPERATION":await C(n,s,o,t);break}s.x+=n.width}await L(e,t)}async function ie(e,o){let t=await R(e),s=e.screens.map(a=>a.root);await I(s,A(P({},o),{assets:t}))}async function L(e,o){for(let t=0;t<e.length;t++){let s=e[t];if(s.reaction!==void 0){let a=figma.getNodeById(o[s.id]);if(a){let n=a.reactions;n=p(n)}}if(s.children!==null)for(let a of s.children)await h(a,o)}}async function h(e,o){if(!g(e.reaction)){let t=figma.getNodeById(o[e.id]);if(t&&"reactions"in t){let s=p(t.reactions);if(e.reaction[0].action.destinationId){let a=e.reaction[0].action.destinationId;ne(o[a])&&(e.reaction[0].action.destinationId=o[a],e.reaction[0].actions[0].destinationId=o[a],s=e.reaction,t.reactions=s)}}}if(!g(e.children))for(let t=0;t<e.children.length;t++){let s=e.children[t];await h(s,o)}}function ne(e){return figma.getNodeById(e)!==null}0&&(module.exports={drawRoots,drawScreens,drawWorldViewContainerNodeAtOrigin,drawWorldViewGroupNodeAtOrigin,drawworldviewbooleanoperationNodeAtOrigin,setChildReaction,setReactions});
