"use strict";var f=Object.defineProperty;var W=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var k=Object.prototype.hasOwnProperty;var y=(e,a)=>{for(var o in a)f(e,o,{get:a[o],enumerable:!0})},N=(e,a,o,t)=>{if(a&&typeof a=="object"||typeof a=="function")for(let i of R(a))!k.call(e,i)&&i!==o&&f(e,i,{get:()=>a[i],enumerable:!(t=W(a,i))||t.enumerable});return e};var T=e=>N(f({},"__esModule",{value:!0}),e);var O={};y(O,{drawRoots:()=>b,drawScreens:()=>P,drawWorldViewContainerNodeAtOrigin:()=>g});module.exports=T(O);async function c(e){return await new Promise(a=>setTimeout(a,e))}function V(e){return typeof e=="object"&&e!==null&&"type"in e&&e.type==="CONSTANT"}function S(e){return typeof e=="object"&&e!==null&&"type"in e&&e.type==="VARIABLE"}function u(e){return V(e)?{type:"CONSTANT",value:e}:S(e)?{type:"VARIABLE",value:e}:{type:"VALUE",value:e}}function p(e,a){if("fills"in e&&(e.fills=[a]),"children"in e)for(let o of e.children)p(o,a)}function m(e,a,o){if("strokes"in e&&(e.strokeWeight=a,e.strokes=[o]),"children"in e)for(let t of e.children)m(t,a,o)}function r(e){return{type:"SOLID",color:{r:e.color.r,g:e.color.g,b:e.color.b},opacity:e.color.a}}async function A(e,a,o){let t=figma.createFrame();if(t.name=e.name,t.x=e.x,t.y=e.y,t.resizeWithoutConstraints(e.width,e.height),t.fills=[],e.fill!==void 0){let i,n=u(e.fill);switch(n.type){case"VALUE":i=r(n.value);break;case"CONSTANT":i=r(n.value.value);break;case"VARIABLE":i=r(n.value.fallback);break}t.fills=[i]}if((e.strokeTopWeight!==void 0||e.strokeBottomWeight!==void 0||e.strokeLeftWeight!==void 0||e.strokeRightWeight!==void 0)&&e.stroke!==void 0){e.strokeTopWeight!==void 0&&(t.strokeTopWeight=e.strokeTopWeight),e.strokeBottomWeight!==void 0&&(t.strokeBottomWeight=e.strokeBottomWeight),e.strokeLeftWeight!==void 0&&(t.strokeLeftWeight=e.strokeLeftWeight),e.strokeRightWeight!==void 0&&(t.strokeRightWeight=e.strokeRightWeight);let i,n=u(e.stroke);switch(n.type){case"VALUE":i=r(n.value);break;case"CONSTANT":i=r(n.value.value);break;case"VARIABLE":i=r(n.value.fallback);break}t.strokes=[i]}if((e.topLeftRadius!==void 0||e.topRightRadius!==void 0||e.bottomLeftRadius!==void 0||e.bottomRightRadius!==void 0)&&(e.topLeftRadius!==void 0&&(t.topLeftRadius=e.topLeftRadius),e.topRightRadius!==void 0&&(t.topRightRadius=e.topRightRadius),e.bottomLeftRadius!==void 0&&(t.bottomLeftRadius=e.bottomLeftRadius),e.bottomRightRadius!==void 0&&(t.bottomRightRadius=e.bottomRightRadius)),e.effects!==void 0){let i=[];for(let n of e.effects)switch(n.type){case"DROP_SHADOW":case"INNER_SHADOW":i.push({type:n.type,color:n.color,offset:n.offset,radius:n.radius,spread:n.spread,visible:!0,blendMode:"NORMAL"});break}i.length>0&&(t.effects=i)}if(a.appendChild(t),e.children!==null)for(let i=0;i<e.children.length;i++){let n=e.children[i];i>0&&o.timeout>0&&await c(o.timeout),await h(n,t,o)}}async function C(e,a,o){let t=figma.createFrame();if(t.name=e.name,t.x=e.x,t.y=e.y,t.resizeWithoutConstraints(e.width,e.height),t.fills=[],e.fill!==void 0){let i,n=u(e.fill);switch(n.type){case"VALUE":i=r(n.value);break;case"CONSTANT":i=r(n.value.value);break;case"VARIABLE":i=r(n.value.fallback);break}t.fills=[i]}if((e.strokeTopWeight!==void 0||e.strokeBottomWeight!==void 0||e.strokeLeftWeight!==void 0||e.strokeRightWeight!==void 0)&&e.stroke!==void 0){e.strokeTopWeight!==void 0&&(t.strokeTopWeight=e.strokeTopWeight),e.strokeBottomWeight!==void 0&&(t.strokeBottomWeight=e.strokeBottomWeight),e.strokeLeftWeight!==void 0&&(t.strokeLeftWeight=e.strokeLeftWeight),e.strokeRightWeight!==void 0&&(t.strokeRightWeight=e.strokeRightWeight);let i,n=u(e.stroke);switch(n.type){case"VALUE":i=r(n.value);break;case"CONSTANT":i=r(n.value.value);break;case"VARIABLE":i=r(n.value.fallback);break}t.strokes=[i]}if((e.topLeftRadius!==void 0||e.topRightRadius!==void 0||e.bottomLeftRadius!==void 0||e.bottomRightRadius!==void 0)&&(e.topLeftRadius!==void 0&&(t.topLeftRadius=e.topLeftRadius),e.topRightRadius!==void 0&&(t.topRightRadius=e.topRightRadius),e.bottomLeftRadius!==void 0&&(t.bottomLeftRadius=e.bottomLeftRadius),e.bottomRightRadius!==void 0&&(t.bottomRightRadius=e.bottomRightRadius)),e.effects!==void 0){let i=[];for(let n of e.effects)switch(n.type){case"DROP_SHADOW":case"INNER_SHADOW":i.push({type:n.type,color:n.color,offset:n.offset,radius:n.radius,spread:n.spread,visible:!0,blendMode:"NORMAL"});break}i.length>0&&(t.effects=i)}}async function E(e,a,o){let t,i=u(e.data);switch(i.type){case"VALUE":t=i.value;break;case"CONSTANT":t=i.value.value;break;case"VARIABLE":t=i.value.fallback;break}let n=figma.createNodeFromSvg(t);if(n.name=e.name,n.x=e.x,n.y=e.y,n.resizeWithoutConstraints(e.width,e.height),n.fills=[],e.fill!==void 0){let d,s=u(e.fill);switch(s.type){case"VALUE":d=r(s.value);break;case"CONSTANT":d=r(s.value.value);break;case"VARIABLE":d=r(s.value.fallback);break}for(let l of n.children)p(l,d)}if(e.strokeWeight!==void 0&&e.stroke!==void 0){let d,s=u(e.stroke);switch(s.type){case"VALUE":d=r(s.value);break;case"CONSTANT":d=r(s.value.value);break;case"VARIABLE":d=r(s.value.fallback);break}for(let l of n.children)m(l,e.strokeWeight,d)}a.appendChild(n)}async function L(e,a,o){let t=figma.createText();if(t.x=e.x,t.y=e.y,t.resizeWithoutConstraints(e.width,e.height),e.fill!==void 0){let s=u(e.fill);switch(s.type){case"VALUE":t.fills=[figma.util.solidPaint(s.value.color)];break;case"CONSTANT":t.fills=[figma.util.solidPaint(s.value.value.color)];break;case"VARIABLE":t.fills=[figma.util.solidPaint(s.value.fallback.color)];break}}try{await figma.loadFontAsync(e.fontName),t.fontName=e.fontName}catch(s){await figma.loadFontAsync({family:"Inter",style:"Regular"}),t.fontName={family:"Inter",style:"Regular"}}t.fontSize=e.fontSize,t.letterSpacing=e.letterSpacing,t.lineHeight=e.lineHeight,t.textAlignHorizontal=e.textAlignHorizontal,t.textAlignVertical=e.textAlignVertical,t.textCase=e.textCase,a.appendChild(t);let i,n=u(e.characters);switch(n.type){case"VALUE":i=n.value;break;case"CONSTANT":i=n.value.value;break;case"VARIABLE":i=n.value.fallback;break}let d=i.split(" ");for(let s=0;s<d.length;s++){let l=d[s];s>0&&(o.timeout>0&&await c(o.timeout/4),t.characters+=" "),t.characters+=l}}async function h(e,a,o){switch(e.type){case"CONTAINER":await A(e,a,o);break;case"VOID_CONTAINER":await C(e,a,o);break;case"ICON_CONTAINER":await E(e,a,o);break;case"TEXT":await L(e,a,o);break}}async function g(e,a,o){let t=figma.createFrame();if(figma.currentPage.appendChild(t),t.name=e.name,t.x=a.x,t.y=a.y,t.resizeWithoutConstraints(e.width,e.height),t.fills=[],e.fill!==void 0){let i,n=u(e.fill);switch(n.type){case"VALUE":i=r(n.value);break;case"CONSTANT":i=r(n.value.value);break;case"VARIABLE":i=r(n.value.fallback);break}t.fills=[i]}if(e.children!==null)for(let i of e.children)await h(i,t,o)}function x(e){let a=0;for(let t=0;t<e.length;t++){let i=e[t];t>0&&(a+=16),a+=i.width}return{x:Math.trunc(figma.viewport.center.x-a/2),y:Math.trunc(figma.viewport.center.y-e[0].height/2)}}async function b(e,a){let o=x(e);for(let t=0;t<e.length;t++){let i=e[t];t>0&&(o.x+=16),await g(i,o,a),o.x+=i.width}}async function P(e,a){let o=e.result.map(t=>t.root);await b(o,a)}0&&(module.exports={drawRoots,drawScreens,drawWorldViewContainerNodeAtOrigin});
